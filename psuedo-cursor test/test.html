<!DOCTYPE html>
<html>

<head>
  <style>
    .cursor {
      position: absolute;
      background-color: #000;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      transition: top 0.1s, left 0.1s;
    }

    .target {
      width: 100px;
      height: 100px;
      background-color: #ccc;
      margin-bottom: 10px;
    }

    .target:hover {
      background-color: #f00;
    }
  </style>
</head>

<body>
  <div id="cursor" class="cursor"></div>
  <div class="target"></div>
  <div class="target"></div>
  <div class="target"></div>

  <script>
    const cursor = document.getElementById("cursor");
    let cursorTop = 0;
    let cursorLeft = 0;
    const cursorStep = 10; // Adjust this value to change cursor movement speed
    let interactionEnabled = false;

    function moveCursor() {
      const windowWidth = window.innerWidth;
      const windowHeight = window.innerHeight;
      const cursorSize = 20; // Width and height of the cursor element

      // Constrain cursor movement within the window boundaries
      cursorTop = Math.max(Math.min(cursorTop, windowHeight - cursorSize), 0);
      cursorLeft = Math.max(Math.min(cursorLeft, windowWidth - cursorSize), 0);

      cursor.style.top = `${cursorTop}px`;
      cursor.style.left = `${cursorLeft}px`;
    }

    function logCoordinates() {
      console.log(`Cursor coordinates: (${cursorLeft}, ${cursorTop})`);
    }

    function handleInteraction() {
      if (interactionEnabled) {
        const hoveredElements = document.elementsFromPoint(cursorLeft, cursorTop);
        hoveredElements.forEach(element => {
          if (element.classList.contains("target")) {
            // Handle interaction with the target element
            element.style.backgroundColor = "#0f0"; // Change background color
          }
        });
      }
    }

    document.addEventListener("keydown", (event) => {
      if (event.key === "ArrowDown") {
        cursorTop += cursorStep;
        moveCursor();
      } else if (event.key === "ArrowUp") {
        cursorTop -= cursorStep;
        moveCursor();
      } else if (event.key === "ArrowLeft") {
        cursorLeft -= cursorStep;
        moveCursor();
      } else if (event.key === "ArrowRight") {
        cursorLeft += cursorStep;
        moveCursor();
      } else if (event.key === " ") {
        interactionEnabled = true;
        handleInteraction();
      }

      logCoordinates();
    });

    document.addEventListener("keyup", (event) => {
      if (event.key === " ") {
        interactionEnabled = false;
      }
    });

    window.addEventListener("resize", () => {
      moveCursor(); // Adjust cursor position on window resize
    });

    moveCursor();
    logCoordinates();
  </script>
</body>

</html>